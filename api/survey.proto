syntax = "proto3";

package api;

message Question{

    message AnswerOptions{
        string dataType = 1;
        string value = 2;
        repeated string multipleOptions = 3;
        repeated MatrixOptions matrixOptions = 4;
        repeated NextQuestion nextQuestion = 5;
    }

    message MatrixOptions{
        string text = 1;
        repeated string options = 2;
    }

    message NextQuestion{
        string selectedOption = 1;
        string question = 2;
    }

    string id = 1;
    string language = 2;
    string text = 3;
    string type = 4;
    AnswerOptions answerOptions = 5;
}

message QuestionID{
    string questionID = 1;
}

message QuestionArray{
    repeated Question questions = 1;
}

message Language{
    string language = 1;
}

message Empty{

}

message SurveyData{

    string id = 1;
    string description = 2;
    repeated Question questions = 3;
    repeated string study = 4;
}

service Survey{
    rpc CreateSurvey(SurveyData) returns (SurveyData);

    rpc CreateQuestion(Question) returns (Question);
    rpc DeleteQuestion(QuestionID) returns (Empty);
    rpc GetQuestion(QuestionID) returns (Question);
    rpc GetAllQuestions (Empty) returns (QuestionArray);
   
}